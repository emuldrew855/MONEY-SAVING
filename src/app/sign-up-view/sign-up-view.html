<h1>Create Profile</h1>
<form >
    <label>
      Username:
      <input type="text" required name="username" [(ngModel)]="newUser.username">
    </label>

    <label>
      Password:
      <input type="text" type="password" id="pass" name="password"
      minlength="8" required [(ngModel)]="newUser.password">
    </label>

    <h3>Accounts</h3>
    <button type="submit" (click)="addNewCard()">Add Card</button>
    <div *ngFor="let bankAccount of newBanks; let i = index">
      <mat-card>
    <div>
      <h3> {{i+1}}. </h3>
      <h4>Account {{bankAccount.name}}</h4>
      <label>
          Name:
          <input type="text" [(ngModel)]="bankAccount.name" name="something">
        </label>

      <label>
        Bank Account Type:
        <select name="bankType"  [(ngModel)]="bankAccount.type">
            <option value="Current">Current</option>
            <option value="Savings">Savings</option>
            <option value="Stocks">Stocks</option>
          </select>
      </label>

      <label>
        Amount:
        <input type="text" name="amount" [(ngModel)]="bankAccount.amount">
      </label>
    </div>
  </mat-card>
  </div>


    <div>
      <h3>Direct Debits</h3>
      <button (click)="addNewDirectDebit()">Add Direct Debit</button>
    </div>
    <div *ngFor="let directDebit of directDebits; let i = index">
      <mat-card>
      <div>
          <h3> {{i+1}}. </h3>
          <h4>Debit {{directDebit.name}}</h4>
          <label>
              Name:
              <input type="text" [(ngModel)]="directDebit.name" name="something">
            </label>

          <label>
             Type:
            <select name="bankType"  [(ngModel)]="directDebit.type">
                <option value="Weekly">Weekly</option>
                <option value="Monthly">Monthly</option>
                <option value="Quarterly">Quarterly</option>
                <option value="Yearly">Yearly</option>
              </select>
          </label>

          <label>
            Amount:
            <input type="text" name="amount" [(ngModel)]="directDebit.amount">
          </label>

          <label>
            Date:
              <input class="form-control"
              type="text"
              mwlFlatpickr
              name = "date"
              [(ngModel)]="directDebit.date"
              dateFormat="Y-m-dTH:i"
              altFormat="F j, Y H:i"
              placeholder="01 Jan 1970 00:00:00 GMT">
          </label>

          <label>
              Bank Account:
             <select name="bankType" [(ngModel)]="directDebit.bankAccount.name">
                 <option *ngFor="let bankAccount of newBanks;" [value]="bankAccount.name">{{bankAccount.name}}</option>
               </select>
           </label>
        </div>
      </mat-card>
      </div>

      <br>
    <button type="submit" (click)="onSubmit()">Submit</button>
    <div class="error">
        <p  *ngIf="userCreated === true"
            id="red">
            <i class="fa fa-exclamation-triangle"
                aria-hidden="true"></i> This username has already been created. Please choose a different name
        </p>
    </div>
  </form>

  <hr>

